<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head>
   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <title>map</title>
   <script type="text/javascript" src="../../js/embed-compressed.js"></script>
   <style type="text/css">
     html, body
      {
                height: 100%;
                margin: 0;
                padding: 0;
                border: 0 none;
                overflow: hidden;
      }
	  body {
	    background-color:#cccccc;
   	    background-image: url(resource/bg2_body1.png);
		background-repeat: repeat;
      }
     #lzapp {
        position: absolute;
     }
  </style><!--[if IE]>
        <style type="text/css">
            /* Fix IE scrollbar braindeath */
            html { overflow: auto; overflow-x: hidden; }
        </style>
        <![endif]-->

<script type="text/javascript">
    var interId = 0;
    var isLoadedOK=false;
    function drawDots(str){
        lz.embed.setCanvasAttribute("dotStr", str ); 
    }
    function setMapInfo(str){
        lz.embed.setCanvasAttribute("mapInfo", str ); 
    }
	function setDoOpt(str){
	    lz.embed.setCanvasAttribute("doOpt", str ); 
	}
	function setDoGoto(str){
	    lz.embed.setCanvasAttribute("doGoto", str ); 
	}
    function onclickDot(id){
        
    }
    function selectArea(str){
        try{
        	parent.selectArea(str); 
        }catch(e){
      	}
    }
	function toMapZoomLevel(n){
	   try{
        	parent.toMapZoomLevel(n); 
        }catch(e){
      	}
	}
	function showToolTip(isShow,stationName,proCode,value, qc,dotId,ox,oy, cSign,f2){
	   try{
        	parent.showToolTip(isShow,stationName,proCode,value, qc,dotId,ox,oy,cSign,f2); 
        }catch(e){
      	}
	}
	function doPlayRadar( str ) {
	    lz.embed.setCanvasAttribute("playRadarStr", str ); 
	}
    function doClickDot( id ) {
        lz.embed.setCanvasAttribute("doClickDotId", id ); 
    }
    function loadPercent(){
       var b = document.getElementById("bar");
       var app = document.getElementById("lzapp");
       try{
         if ( app ) {
           var p = app.PercentLoaded();
           b.style.width=(5*p)+"px";
           if ( p >= 100 ) {
             clearInterval( interId );
             document.getElementById("loadingDiv").style.display="none";
             isLoadedOK = true;
           }
         }
       }catch(e){
       }
    }
    function isLoaded(){
    	return isLoadedOK;
    }
    function doHandleFromTip( id ){
    	parent.onclickDot(id);
    }
    function initSWF(){
	    document.getElementById('loadingDiv').style.left = ((document.body.clientWidth - 500 ) / 2 )+"px";
    	lz.embed.swf({url: 'map.lzx.swf10.swf',wmode:'Opaque', allowfullscreen: 'true', bgcolor: '#cccccc', width: '100px', height: '100px', id: 'lzapp', accessible: 'true', cancelmousewheel: false, appenddivid: 'appcontainer'});

        lz.embed.applications.lzapp.onload = function loaded() {
            lz.embed.setCanvasAttribute("baseUrl", "/");
        }
    }
</script>
</head>
<body onload="initSWF()">
<div id="main" style="z-index:2; top: 0; left: 0; width: 100%; height:100%;background-color:#cccccc; position: absolute;">
 <div id="appcontainer" style="z-index:2; top: 0px; left: 0px; width: 100%;background-color:#cccccc; height: 100%; position: absolute;">
 </div>
</div>

<div id="loadingDiv" style="display:none;z-index:10; top: 200px; left: 10000px; border:1px solid #333333;width:500px;height:20px;font-size:3px;position:absolute;">
<div id="bar" style="background:#00FF44;height:20px"></div>
</div>
<script defer>
 interId = setInterval("loadPercent()",20);
 document.getElementById("loadingDiv").style.display="";
</script>

</body>
</html>
